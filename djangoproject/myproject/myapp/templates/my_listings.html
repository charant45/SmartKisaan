{% extends 'base.html' %}
{% block content %}
<style>

  
  .container {
    max-width: 1000px;
    margin: 40px auto;
    padding: 0 20px;
    font-family: Arial, sans-serif;
  }

  h1 {
    margin-top: 80px;
    font-size: 32px;
    text-align: center;
    margin-bottom: 40px;
    color: #333;
  }

  h2 {
    font-size: 24px;
    margin-bottom: 20px;
    color: #444;
  }

  .product-card {
    display: flex;
    align-items: center;
    background-color: #fff;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    padding: 16px;
    margin-bottom: 16px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
    gap: 20px;
  }

  .product-card img {
    width: 120px;
    height: 120px;
    object-fit: cover;
    border-radius: 8px;
    border: 1px solid #ddd;
  }

  .product-info {
    flex-grow: 1;
  }

  .product-name {
    font-size: 18px;
    font-weight: 600;
    color: #222;
  }

  .product-details {
    font-size: 14px;
    color: #666;
  }

  .status {
    font-size: 14px;
    font-weight: 500;
    margin-top: 5px;
  }

  .available {
    color: #2e7d32;
  }

  .unavailable {
    color: #c62828;
  }

  .actions {
    display: flex;
    flex-direction: column;
    gap: 8px;
    align-items: flex-end;
  }

  .actions a, .actions form {
    text-decoration: none;
  }

  .edit-btn, .delete-btn {
    padding: 6px 12px;
    border-radius: 4px;
    font-size: 13px;
    border: none;
    cursor: pointer;
    width: 100px;
    text-align: center;
  }

  .edit-btn {
    background-color: #007202;
    color: white;
  }

  .delete-btn {
    background-color: #d32f2f;
    color: white;
  }

  hr {
    margin: 40px 0;
    border: none;
    border-top: 1px solid #ddd;
  }
</style>

<div class="container">
  <h1>My Listings</h1>

  <h2>Products for Sale</h2>
  {% for product in sale_products %}
  <div class="product-card">
    <img src="{{ product.image.url }}" alt="{{ product.name }}" style="max-width: 100px; height: auto;">
    <div class="product-info">
      <div class="product-name">{{ product.name }}</div>
      <p>Price: ₹{{ product.price }}</p>
      <p>Stock Left: {{ product.stock }}</p>
      <p class="status">
        Status:
        <span class="{% if product.is_sold_out %}unavailable{% else %}available{% endif %}">
          {% if product.is_sold_out %}Sold Out{% else %}Available{% endif %}
        </span>
      </p>
    </div>
    <div class="actions">
      <a href="{% url 'edit_product' product.id %}" class="edit-btn">Edit</a>
      <a href="{% url 'delete_product' product.id %}" onclick="return confirm('Are you sure you want to delete this product?');" class="delete-btn">Delete</a>
    </div>
  </div>
  {% empty %}
    <p>No sale listings.</p>
  {% endfor %}

  <hr>

  <h2>Products for Rent</h2>
  {% for product in rent_products %}
  <div class="product-card">
    <img src="{{ product.image.url }}" alt="{{ product.name }}" style="max-width: 100px; height: auto;">
    <div class="product-info">
      <div class="product-name">{{ product.name }}</div>
      <p>Price: ₹{{ product.price }}</p>
      <p>Stock Left: {{ product.stock }}</p>
      <p class="status">
        Status:
        <span class="{% if product.is_rented_out %}unavailable{% else %}available{% endif %}">
          {% if product.is_rented_out %}Rented{% else %}Available{% endif %}
        </span>
      </p>
    </div>
    <div class="actions">
      <a href="{% url 'edit_product' product.id %}" class="edit-btn">Edit</a>
      <a href="{% url 'delete_product' product.id %}" onclick="return confirm('Are you sure you want to delete this product?');" class="delete-btn">Delete</a>
    </div>
  </div>
  {% empty %}
    <p>No rental listings.</p>
  {% endfor %}
</div>
{% endblock %}

